<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="utf8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Marvelous Imitator of facial expressions!!</title>
    <!-- Bootstrap -->
	<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	
	 <script type="text/javascript">
	 <!--
		function restoreImg(srcpicid,textid)
		{
			
			// window.alert(srcpicid.src);
			 textid.value=srcpicid.src;
		}
		function myAlert() {
			window.alert("Hello");     
	    }
	 -->
	 </script>
	 <script type="text/javascript">
<!--		
            function setImagePreview(docObj,localImagId,imgObjPreview)   
            {  
                if(docObj.files && docObj.files[0])  
                {  
                    //?????£?ֱ????img????  
                    imgObjPreview.style.display = 'block';  
                   // imgObjPreview.style.width = '1366px';  
                    //imgObjPreview.style.height = '768px';                      
      
      
                    //????7???ϰ汾????????????getAsDataURL()??ʽ??ȡ????Ҫһ?·?ʽ    
                    imgObjPreview.src = window.URL.createObjectURL(docObj.files[0]);  
                }  
                else  
                {  
                    //IE?£?ʹ???˾?  
                    docObj.select();  
                    var imgSrc = document.selection.createRange().text;  
                      
                    //???????ó?ʼ??С  
                    //localImagId.style.width = "1366px";  
                    //localImagId.style.height = "768px";  
                      
                    //ͼƬ?쳣?Ĳ?׽????ֹ?û??޸ĺ?׺??α??ͼƬ  
                    try  
                    {  
                        localImagId.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale)";  
                        localImagId.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src = imgSrc;  
                     }  
                     catch(e)  
                     {  
                        alert("???ϴ???ͼƬ??ʽ????ȷ????????ѡ??!");  
                        return false;  
                      }                            
                      imgObjPreview.style.display = 'none';  
                      document.selection.empty();  
                }  
                return true;  
            }  
			-->
    </script>  
	 
  </head>
  
  
  
  <body style ="background-color: #FFD306">
	<!-- ģ̬????Modal?? -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" 
	   aria-labelledby="myModalLabel" aria-hidden="true">
	   <div class="modal-dialog">
		  <div class="modal-content">
			 <div class="modal-header">
				<button type="button" class="close" 
				   data-dismiss="modal" aria-hidden="true">
					  &times;
				</button>
				<h4 class="modal-title" id="myModalLabel">
					??ӭʹ?ñ???ģ???㣡
				</h4>
			 </div>
			 <div class="modal-body">
				<p>想成为表情模仿达人吗？摆脱扑克脸，发现自己丰富多彩的表情吧！本应用会随机给出一个表情，您模仿的越像，“模仿指数”越高哦~</p>
				<p>步骤一：点击最左的按钮，来看看自己想要模仿的表情是什么。</p>
				<p>步骤二：感觉不是很对？那么换一个来模仿吧！</p>
				<p>步骤三：记下这个表情的精髓！然后默默准备好表情，越像越传神越好~</p>
				<p>步骤四：拍照或者上传你的模仿秀照片~来看看你的“模仿指数”是多少吧~</p>
				<p>下面是样例哟：</p>
				<img id="example" class="img-thumbnail" alt="" src="static/img/example.jpg"/>  


			 </div>
			 <div class="modal-footer">
				<button type="button" class="btn btn-default" 
				   data-dismiss="modal">?ر?
				</button>
			 </div>
		  </div><!-- /.modal-content -->
		</div>
	</div><!-- /.modal -->
	<nav class="navbar navbar-static-top navbar-inverse">
        <div class="container">
				<a href="#"class="navbar-brand navbar-right" data-toggle="modal" data-target="#myModal">??_????ô????</a>
			
		
		</div>
    </nav>
	
    <!--????ģ̬??˵???淨????ʼ??ͼƬչʾ??????????ť??????ģ??ʲô???顢??һ?????ϴ???Ƭ???ύ-->
	<div class="container">
		<div class="row" style="text-align: center">
			<h1 style="font-family:Palatino Linotype margin: auto">????ģ????</h1>
		</div>
		</br></br>
		
		
			<button type="button" class="btn btn-info col-xs-6 col-lg-6" onclick='$.get("/another", function(data){console.log(data); $("#preview2").attr("src", data);});'>要模仿什么？</button>
			<button type="button" class="btn btn-info col-xs-6 col-lg-6" onclick='$.get("/another", function(data){console.log(data); $("#preview2").attr("src", data);});'>DUANG！换一个</button>
		
		<div id="localImag2" class=""style="width: 100%">  
			<img id="preview2" class="img-thumbnail" alt="" src="static/img/black.png" onload="javascript:restoreImg(preview2,pic1);" onchange="javascript:restoreImg(preview2,pic1);"/>  
		</div> 
		<div class="row">
		<!-- 这里我随便也了个跳转，表单传了两个input：一个file一个text。-->
			<form action="show" role="form" method="Post">

				<div class="form-group" style="text-align: center">
					<br />
					<button id="uploadFileId" class="btn btn-default " onclick=" document.getElementById('pic2').click(); ">

					?ϴ??Լ???ģ????Ƭ??????????Ŷ
					</button>

					<input name="photo" type="file" class="btn btn-default" accept="image/*" style="visibility: hidden; margin: auto" id="pic2" onchange="javascript:setImagePreview(this,localImag,preview)"; required>
				</div>
				 <div class="row" id="localImag" style="text-align: center; background-color: #FFD306">  
							<img id="preview" alt="" style="background-color: #FFD306" class="img-thumbnail col-md-6 col-md-offset-3"/>  
					</div> 
				<div class="row" style="text-align: center">
					<button type="submit" style="margin: auto" class="btn-lg btn-danger">?????ҵ?ģ??ָ??(?s?㧥??)?s</button>
				</div>
				
				<div class="form-group">
					<label for="subtitle1"class="sr-only">ͶƱ??ѡ??1</label>
						<input type="text" class="form-control sr-only" id="pic1" placeholder="?????????ǲ??ɼ??ģ??ұ??????û?ģ?µ?ͼƬ??src,???ڽӿڵ??á?ÿ??ԴͼƬ???µ?ʱ?????????ڵ?????Ҳ??????" >
				</div>
			</form>
		</div>
	</div>

	</br></br></br>
   <nav class="navbar navbar-fixed-bottom navbar-inverse">
        <span class="navbar-text"style="font-family:Palatino Linotype">Designed by Qingying Chen, Yiqun Ouyang, Minxing Liu, Yangqingwei Shi, Peking University.</span>
    </nav>
      <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="http://cdn.bootcss.com/jquery/1.11.2/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
   <!-- ???µ? Bootstrap ???? JavaScript ?ļ? -->
	<script src="http://cdn.bootcss.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
	
   </body>
</html>
  